<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Mareal · Cartas</title>

<style>
:root{
  --c-logo:#7fccc7;          /* color exacto del fondo del logotipo */
  --c-primary:#006b8b;       /* azul profundo para texto/botones */
  --c-secondary:#00a6b3;     /* turquesa para hover/activo */
}

*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;font-family:"Segoe UI",Roboto,sans-serif;background:var(--c-logo);color:var(--c-primary);overflow:hidden}

/* -------- PORTADA -------- */
#welcome{
  height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2rem;
  padding:1.5rem;text-align:center;
}
#welcome img{width:55%;max-width:240px;height:auto}
.menu-btn{
  width:100%;max-width:420px;padding:1.2rem 1rem;font-size:1.25rem;font-weight:600;
  background:#fff;border:none;border-radius:22px;color:var(--c-primary);
  box-shadow:0 4px 10px rgba(0,0,0,.1);cursor:pointer;transition:.2s all;
}
.menu-btn:hover{background:var(--c-secondary);color:#fff;transform:translateY(-2px)}
@media(min-width:680px){#welcome{flex-direction:row} .menu-btn{max-width:none}}

/* -------- VISOR -------- */
#viewer-wrap{display:none;flex-direction:column;height:100%}
#bar{
  display:flex;gap:.6rem;align-items:center;justify-content:center;
  padding:.6rem;background:linear-gradient(90deg,var(--c-primary),var(--c-secondary));
  box-shadow:0 2px 7px rgba(0,0,0,.15);
}
.bar-btn{
  flex:1 1 140px;padding:.45rem 1rem;font-size:1rem;font-weight:600;border:none;
  border-radius:16px;background:#fff;color:var(--c-primary);cursor:pointer;transition:.2s;
}
.bar-btn.active{background:var(--c-secondary);color:#fff}
.bar-btn:hover{transform:translateY(-1px)}
#iframeBox{flex:1;overflow:hidden}
iframe{
  width:100%;height:100%;border:none;display:block;
}

/* evitar scroll lateral en iOS cuando el PDF es ancho */
body,html{overscroll-behavior-x:none}
</style>
</head>
<body>

<!-- PORTADA -->
<section id="welcome">
  <img src="logo.png" alt="Mareal logo" loading="eager">
  <button class="menu-btn" data-menu="tapas">Carta de tapas</button>
  <button class="menu-btn" data-menu="platos">Carta de platos</button>
</section>

<!-- VISOR -->
<section id="viewer-wrap">
  <div id="bar">
    <button class="bar-btn" id="btnTapas" data-menu="tapas">Carta de tapas</button>
    <button class="bar-btn" id="btnPlatos" data-menu="platos">Carta de platos</button>
  </div>
  <div id="iframeBox"></div>
</section>

<script>
/* ---------- CONFIG ---------- */
const menus={
  tapas : 'tapas.pdf',
  platos: 'platos.pdf'
};
/* ---------- UTIL ---------- */
const gdocs = url => `https://docs.google.com/gview?embedded=1&url=${encodeURIComponent(url)}`;
const pdfUrl = file => `${location.origin + location.pathname.replace(/\/[^/]*$/,'/')}${file}`;

/* ---------- DOM ---------- */
const welcome   = document.getElementById('welcome');
const viewer    = document.getElementById('viewer-wrap');
const iframeBox = document.getElementById('iframeBox');
const barBtns   = [...document.querySelectorAll('.bar-btn')];

/* ---------- LOGIC ---------- */
function loadMenu(menu){
  if(!menus[menu]) return;
  // toggle active button in the bar
  barBtns.forEach(b=>b.classList.toggle('active',b.dataset.menu===menu));
  // create / replace iframe
  iframeBox.innerHTML='';
  const ifr=document.createElement('iframe');
  ifr.src=gdocs(pdfUrl(menus[menu]));
  iframeBox.appendChild(ifr);
  // switch sections
  welcome.style.display='none';
  viewer.style.display='flex';
  // scroll top (útil si la carta anterior era larga)
  window.scrollTo(0,0);
}

/* ---------- EVENTS ---------- */
document.querySelectorAll('[data-menu]').forEach(btn=>{
  btn.addEventListener('click',()=>loadMenu(btn.dataset.menu));
});

/* ---------- DEEP LINK ---------- */
const qp = new URLSearchParams(location.search);
if(qp.get('menu') && menus[qp.get('menu')]) loadMenu(qp.get('menu'));
</script>
</body>
</html>
